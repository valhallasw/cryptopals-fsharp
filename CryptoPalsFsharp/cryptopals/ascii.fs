module Ascii

open cryptopals

let private asciitable = Array.ofSeq "???????????????????????????????? !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~?????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????????"
let swap (x, y) = (y, x)
let private invertedLookup = asciitable |> Array.indexed |> Array.map swap |> Map

let valToChar i = Array.item i asciitable
let charToVal i = invertedLookup.Item i
    
let charToByte (str: string):bytearray = List.ofSeq str |> List.map charToVal 

let byteToChars (data: bytearray): string = data |> List.map valToChar |> List.map string |> String.concat ""
